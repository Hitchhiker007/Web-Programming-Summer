<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="stylesheet/navbar.css">
    <link rel="stylesheet" href="stylesheet/mealplanner.css">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="index.js" defer></script>
    <title>Meal Planner</title>
</head>

</script>
<!-- script run again for poplating the drop box so it is not hard coded, using the defer attribute so
the script is run after the document is parsed -->
<script src="meal_planner.js" defer></script>



<body>
    <nav class="nav">
        <a href="#" class="home-logo">
            <img src="images/home_logo.png" class="logo-img">
        </a>

        <a href="#" class="menu-icon">
            <span class="menu-icon-line"></span>
            <span class="menu-icon-line"></span>
            <span class="menu-icon-line"></span>
        </a>

        <div class="nav-bar">
            <ul>
                <li><a href="index.html">
                        <p>Home</p>
                    </a></li>
                <li><a href="services.html">
                        <p>Services</p>
                    </a></li>
                <li><a href="mealplanner.html">
                    <p>Meal Planner</p>
                </a></li>
                <li><a href="contact_us.html">
                    <p>Contact Us</p>
                </a></li>
                <li><a href="sign_up.html">
                        <p>Sign Up
                        </p>
                    </a></li>
                <li><a href="login.html">
                        <p>Login</p>
                    </a></li>
            </ul>
        </div>

    </nav>

    <header>
        <h1>Meal Planner</h1>
    </header>
    
    <div class="flexbox-container">
        <div class="flexbox-item flexbox-item-1">
            <div class="box-title">
                <div class="image">
                    <img width=100" src="images/anything_category.png">
                </div>
                <h3>Anything</h3>
            </div>
        </div>
        <div class="flexbox-item flexbox-item-2">
            <div class="box-title">
                <div class="image">
                    <img width=100" src="images/paleo_category.png">
                </div>
                <h3>Paleo</h3>
            </div>
        </div>
        <div class="flexbox-item flexbox-item-3">
            <div class="box-title">
                <div class="image">
                    <img width=100" src="images/vegetarian_category.png">
                </div>
                <h3>Vegetarian</h3>
            </div>
        </div>
        <div class="flexbox-item flexbox-item-4">
            <div class="box-title">
                <div class="image">
                    <img width=100" src="images/vegan_category.png">
                </div>
                <h3>Vegan</h3>
            </div>
        </div>
        <div class="flexbox-item flexbox-item-5">
            <div class="box-title">
                <div class="image">
                    <img width=100" src="images/ketogenic_category.png">
                </div>
                <h3>Ketogenic</h3>
            </div>
        </div>
        <div class="flexbox-item flexbox-item-6">
            <div class="box-title">
                <div class="image">
                    <img width=100" src="images/mediterranean_category.png">
                </div>
                <h3>Mediterranian</h3>
            </div>
        </div>
        </div>  
    <div class="flexbox-container-2">
        <form id = "calculator">
            <div class="content">
                <div class="calories">
                        <label>I want to eat</label>
                        <select id="#calories" required>
                            <option value="">None</option>
                        </select>
                        <span class= "word">calories</span>
                </div>
                <div class="meals">
                        <label>in</label>
                        <select id="#meals" required>
                            <option value="">None</option>
                        </select>
                        <span class= "word">meals</span>
                </div>
            </div>
            <div class="button">  
                    <input type="submit" value="Generate"> 
            </div>
        </form>
        
        <div class = "meal_planner_list">
            <ul id="mealList"></ul>
        </div>
        
        <script>
            const calculator = document.getElementById("calculator");

            calculator.addEventListener("submit", (event)=> {
               
                event.preventDefault()
                const calories = document.getElementById("#calories");
                const meals = document.getElementById("#meals");

                var calories_val = calories.value;
                var meals_val = meals.value;

                const calc_meal = calories_val / meals_val;
                alert(calc_meal + " calories for each meal");
                


           

                if (calc_meal <= 500)
                { 
                       // Create an empty array
                arr = []
                // make a pool of food relating to that category
                productList = ["broccoli", "spinach", "carrot", "kale", "rice", "bowl of oats", "bannana", "fruit-smoothie"];
                // for loop for the length of the meals_val, which is selected by the user
                for(let i = 1;i<=meals_val;i++)
                {
                // randomize by randomly selecting a type of food from product list
                let mealplan = productList[Math.floor(Math.random() * productList.length)];
                console.log(arr)
                // push each element to the array
                arr.push(mealplan)
                }
                
                // this appends the elements to the html list named "mealList"
                let list = document.getElementById("mealList");
                arr.forEach((item) => {
                let li = document.createElement("li");
                li.innerText = item;
                list.appendChild(li);
                });   
                }
                // else if((calc_meal >= 1500) || (calc_meal <= 1999))
                // {
                //     alert("Sandwich")
                // }
                else {
                            
                arr = []
                productList = ["ice-cream", "chocolate-mousse", "brownies", "pavlova", "chocolate", 
                "cake", "cheese-cake", "milkshake"];
                for(let i = 1;i<=meals_val;i++)
                {
                let mealplan = productList[Math.floor(Math.random() * productList.length)];
                console.log(arr)
                arr.push(mealplan)
                }
                let list = document.getElementById("mealList");
                arr.forEach((item) => {
                let li = document.createElement("li");
                li.innerText = item;
                list.appendChild(li);
                });   
                }
             });

             
        </script>
    </div>
</body>
</html>